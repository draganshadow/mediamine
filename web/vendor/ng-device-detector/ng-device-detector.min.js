!function(e){"use strict";e.module("ng.deviceDetector",[]).constant("BROWSERS",{CHROME:"chrome",FIREFOX:"firefox",SAFARI:"safari",OPERA:"opera",IE:"ie",PS4:"ps4",VITA:"vita",UNKNOWN:"unknown"}).constant("DEVICES",{ANDROID:"android",IPAD:"ipad",IPHONE:"iphone",IPOD:"ipod",BLACKBERRY:"blackberry",FIREFOXOS:"firefoxos",WINDOWSPHONE:"windows-phone",PS4:"ps4",VITA:"vita",UNKNOWN:"unknown"}).constant("OS",{WINDOWS:"windows",MAC:"mac",IOS:"ios",ANDROID:"android",LINUX:"linux",UNIX:"unix",FIREFOXOS:"firefoxos",WINDOWSPHONE:"windows-phone",PS4:"ps4",VITA:"vita",UNKNOWN:"unknown"}).service("detectUtils",["deviceDetector","DEVICES","BROWSERS","OS",function(e,t,r,i){var o=e;this.isMobile=function(){return"unknown"!==o.device},this.isAndroid=function(){return o.device===t.ANDROID||o.OS===i.ANDROID},this.isIOS=function(){return o.os===i.IOS||o.device===t.IPOD||o.device===t.IPHONE}}]).factory("deviceDetector",["$window","DEVICES","BROWSERS","OS",function(e,t,r,i){var o=e.navigator.userAgent,s={raw:{userAgent:o,os:{},browser:{},device:{}}};return s.raw.os[i.WINDOWS]=/\bWindows\b/.test(o)&&!/\bWindows Phone\b/.test(o),s.raw.os[i.MAC]=/\bMac OS\b/.test(o),s.raw.os[i.IOS]=/\biPad\b/.test(o)||/\biPhone\b/.test(o)||/\biPod\b/.test(o),s.raw.os[i.ANDROID]=/\bAndroid\b/.test(o),s.raw.os[i.LINUX]=/\bLinux\b/.test(o),s.raw.os[i.UNIX]=/\bUNIX\b/.test(o),s.raw.os[i.FIREFOXOS]=/\bFirefox\b/.test(o)&&/\Mobile\b/.test(o),s.raw.os[i.WINDOWSPHONE]=/\bIEMobile\b/.test(o),s.raw.os[i.PS4]=/\bMozilla\/5.0 \(PlayStation 4\b/.test(o),s.raw.os[i.VITA]=/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/.test(o),s.raw.browser[r.CHROME]=/\bChrome\b/.test(o)||/\bCriOS\b/.test(o),s.raw.browser[r.FIREFOX]=/\Firefox\b/.test(o),s.raw.browser[r.SAFARI]=/^((?!CriOS).)*\Safari\b.*$/.test(o),s.raw.browser[r.OPERA]=/\Opera\b/.test(o),s.raw.browser[r.IE]=/\bMSIE\b/.test(o)||/\Trident\b/.test(o),s.raw.browser[r.PS4]=/\bMozilla\/5.0 \(PlayStation 4\b/.test(o),s.raw.browser[r.VITA]=/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/.test(o),s.raw.device[t.ANDROID]=/\bAndroid\b/.test(o),s.raw.device[t.IPAD]=/\biPad\b/.test(o),s.raw.device[t.IPHONE]=/\biPhone\b/.test(o),s.raw.device[t.IPOD]=/\biPod\b/.test(o),s.raw.device[t.BLACKBERRY]=/\bblackberry\b/.test(o),s.raw.device[t.FIREFOXOS]=/\bFirefox\b/.test(o)&&/\Mobile\b/.test(o),s.raw.device[t.WINDOWSPHONE]=/\bIEMobile\b/.test(o),s.raw.device[t.PS4]=/\bMozilla\/5.0 \(PlayStation 4\b/.test(o),s.raw.device[t.VITA]=/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/.test(o),s.os=[i.WINDOWS,i.IOS,i.MAC,i.ANDROID,i.LINUX,i.UNIX,i.FIREFOXOS,i.WINDOWSPHONE,i.PS4,i.VITA].reduce(function(e,t){return e===i.UNKNOWN&&s.raw.os[t]?t:e},i.UNKNOWN),s.browser=[r.CHROME,r.FIREFOX,r.SAFARI,r.OPERA,r.IE,r.PS4,r.VITA].reduce(function(e,t){return e===r.UNKNOWN&&s.raw.browser[t]?t:e},r.UNKNOWN),s.device=[t.ANDROID,t.IPAD,t.IPHONE,t.IPOD,t.BLACKBERRY,t.FIREFOXOS,t.WINDOWSPHONE,t.PS4,t.VITA].reduce(function(e,r){return e===t.UNKNOWN&&s.raw.device[r]?r:e},t.UNKNOWN),s.isMobile=function(){return[t.ANDROID,t.IPAD,t.IPHONE,t.IPOD,t.BLACKBERRY,t.FIREFOXOS,t.WINDOWSPHONE,t.VITA].some(function(e){return s.device==e})},s.isTablet=function(){return[t.IPAD,t.FIREFOXOS].some(function(e){return s.device==e})},s.isDesktop=function(){return[t.PS4,t.UNKNOWN].some(function(e){return s.device==e})},s}]).directive("deviceDetector",["deviceDetector",function(e){return{restrict:"A",link:function(t,r){r.addClass("os-"+e.os),r.addClass("browser-"+e.browser),r.addClass("device-"+e.device)}}}])}(angular);